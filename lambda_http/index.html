<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Enriches the `lambda` crate with `http` types targeting AWS ALB, API Gateway REST and HTTP API lambda integrations."><meta name="keywords" content="rust, rustlang, rust-lang, lambda_http"><title>lambda_http - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../lambda_http/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Crate lambda_http</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.5.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all lambda_http's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="lambda_http" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../lambda_http/index.html"><img class="rust-logo" src="../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">lambda_http</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/lambda_http/lib.rs.html#1-170" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Enriches the <code>lambda</code> crate with <a href="https://github.com/hyperium/http"><code>http</code></a>
types targeting AWS <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html">ALB</a>, <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/welcome.html">API Gateway</a> REST and HTTP API lambda integrations.</p>
<p>This crate abstracts over all of these trigger events using standard <a href="https://github.com/hyperium/http"><code>http</code></a> types minimizing the mental overhead
of understanding the nuances and variation between trigger details allowing you to focus more on your application while also giving you to the maximum flexibility to
transparently use whichever lambda trigger suits your application and cost optimizations best.</p>
<h2 id="examples" class="section-header"><a href="#examples">Examples</a></h2><h3 id="hello-world" class="section-header"><a href="#hello-world">Hello World</a></h3>
<p>The following example is how you would structure your Lambda such that you have a <code>main</code> function where you explicitly invoke
<code>lambda_http::run</code> in combination with the <a href="fn.service_fn.html"><code>service_fn</code></a> function. This pattern allows you to utilize global initialization
of tools such as loggers, to use on warm invokes to the same Lambda function after the first request, helping to reduce the latency of
your functionâ€™s execution path.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">lambda_http</span>::{<span class="ident">service_fn</span>, <span class="ident">Error</span>};

<span class="attribute">#[<span class="ident">tokio::main</span>]</span>
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Error</span><span class="op">&gt;</span> {
    <span class="comment">// initialize dependencies once here for the lifetime of your</span>
    <span class="comment">// lambda task</span>
    <span class="ident">lambda_http::run</span>(<span class="ident">service_fn</span>(<span class="op">|</span><span class="ident">request</span><span class="op">|</span> <span class="kw">async</span> { <span class="prelude-val">Ok</span>(<span class="string">&quot;ðŸ‘‹ world!&quot;</span>) })).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h3 id="leveraging-trigger-provided-data" class="section-header"><a href="#leveraging-trigger-provided-data">Leveraging trigger provided data</a></h3>
<p>You can also access information provided directly from the underlying trigger events, like query string parameters,
or Lambda function context, with the <a href="trait.RequestExt.html"><code>RequestExt</code></a> trait.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">lambda_http</span>::{<span class="ident">service_fn</span>, <span class="ident">Error</span>, <span class="ident">IntoResponse</span>, <span class="ident">Request</span>, <span class="ident">RequestExt</span>};

<span class="attribute">#[<span class="ident">tokio::main</span>]</span>
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Error</span><span class="op">&gt;</span> {
    <span class="ident">lambda_http::run</span>(<span class="ident">service_fn</span>(<span class="ident">hello</span>)).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}

<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">hello</span>(
    <span class="ident">request</span>: <span class="ident">Request</span>
) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">IntoResponse</span>, <span class="ident">Error</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">_context</span> <span class="op">=</span> <span class="ident">request</span>.<span class="ident">lambda_context</span>();

    <span class="prelude-val">Ok</span>(<span class="macro">format!</span>(
        <span class="string">&quot;hello {}&quot;</span>,
        <span class="ident">request</span>
            .<span class="ident">query_string_parameters</span>()
            .<span class="ident">first</span>(<span class="string">&quot;name&quot;</span>)
            .<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="op">|</span> <span class="string">&quot;stranger&quot;</span>)
    ))
}</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="https://docs.rs/http/0.2.6/http/index.html" title="mod http">http</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="../lambda_runtime/index.html" title="mod lambda_runtime">lambda_runtime</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use lambda_runtime::tower;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use crate::ext::<a class="trait" href="ext/trait.RequestExt.html" title="trait lambda_http::ext::RequestExt">RequestExt</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="ext/index.html" title="lambda_http::ext mod">ext</a></div><div class="item-right docblock-short"><p>Extension methods for <code>http::Request</code> types</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="request/index.html" title="lambda_http::request mod">request</a></div><div class="item-right docblock-short"><p>ALB and API Gateway request adaptations</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Context.html" title="lambda_http::Context struct">Context</a></div><div class="item-right docblock-short"><p>The Lambda function execution context. The values in this struct
are populated using the <a href="https://docs.aws.amazon.com/lambda/latest/dg/current-supported-versions.html">Lambda environment variables</a>
and the headers returned by the poll request to the Runtime APIs.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Response.html" title="lambda_http::Response struct">Response</a></div><div class="item-right docblock-short"><p>Represents an HTTP response</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Body.html" title="lambda_http::Body enum">Body</a></div><div class="item-right docblock-short"><p>Representation of http request and response bodies as supported
by API Gateway and ALBs.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoResponse.html" title="lambda_http::IntoResponse trait">IntoResponse</a></div><div class="item-right docblock-short"><p>A conversion of self into a <code>Response&lt;Body&gt;</code> for various types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Service.html" title="lambda_http::Service trait">Service</a></div><div class="item-right docblock-short"><p>An asynchronous function from a <code>Request</code> to a <code>Response</code>.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.run.html" title="lambda_http::run fn">run</a></div><div class="item-right docblock-short"><p>Starts the Lambda Rust runtime and begins polling for events on the <a href="https://docs.aws.amazon.com/lambda/latest/dg/runtimes-api.html">Lambda
Runtime APIs</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.service_fn.html" title="lambda_http::service_fn fn">service_fn</a></div><div class="item-right docblock-short"><p>Returns a new [<code>ServiceFn</code>] with the given closure.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Error.html" title="lambda_http::Error type">Error</a></div><div class="item-right docblock-short"><p>Error type that lambdas may result in</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Request.html" title="lambda_http::Request type">Request</a></div><div class="item-right docblock-short"><p>Type alias for <code>http::Request</code>s with a fixed <a href="enum.Body.html"><code>Body</code></a> type</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="lambda_http" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>